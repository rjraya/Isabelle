%
\begin{isabellebody}%
\setisabellecontext{Hales}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Hales\isanewline
\ \ \isakeyword{imports}\ \ {\isachardoublequoteopen}HOL{\isacharminus}Algebra{\isachardot}Group{\isachardoublequoteclose}\ \ {\isachardoublequoteopen}HOL{\isacharminus}Library{\isachardot}Bit{\isachardoublequoteclose}\ {\isachardoublequoteopen}HOL{\isacharminus}Library{\isachardot}Rewrite{\isachardoublequoteclose}\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
\isanewline
\isacommand{declare}\isamarkupfalse%
\ {\isacharbrackleft}{\isacharbrackleft}quick{\isacharunderscore}and{\isacharunderscore}dirty{\isacharequal}true{\isacharbrackright}{\isacharbrackright}%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Affine Edwards curves%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{class}\isamarkupfalse%
\ ell{\isacharunderscore}field\ {\isacharequal}\ field\ {\isacharplus}\ \isanewline
\ \ \isakeyword{assumes}\ two{\isacharunderscore}not{\isacharunderscore}zero{\isacharcolon}\ {\isachardoublequoteopen}{\isadigit{2}}\ {\isasymnoteq}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{locale}\isamarkupfalse%
\ curve{\isacharunderscore}addition\ {\isacharequal}\ \ \isanewline
\ \ \isakeyword{fixes}\ c\ d\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a{\isacharcolon}{\isacharcolon}ell{\isacharunderscore}field{\isachardoublequoteclose}\isanewline
\isakeyword{begin}\ \ \ \isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ add\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ {\isasymtimes}\ {\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymtimes}\ {\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymtimes}\ {\isacharprime}a{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ {\isachardoublequoteopen}add\ {\isacharparenleft}x\isactrlsub {\isadigit{1}}{\isacharcomma}y\isactrlsub {\isadigit{1}}{\isacharparenright}\ {\isacharparenleft}x\isactrlsub {\isadigit{2}}{\isacharcomma}y\isactrlsub {\isadigit{2}}{\isacharparenright}\ {\isacharequal}\isanewline
\ \ \ \ {\isacharparenleft}{\isacharparenleft}x\isactrlsub {\isadigit{1}}{\isacharasterisk}x\isactrlsub {\isadigit{2}}\ {\isacharminus}\ c{\isacharasterisk}y\isactrlsub {\isadigit{1}}{\isacharasterisk}y\isactrlsub {\isadigit{2}}{\isacharparenright}\ div\ {\isacharparenleft}{\isadigit{1}}{\isacharminus}d{\isacharasterisk}x\isactrlsub {\isadigit{1}}{\isacharasterisk}y\isactrlsub {\isadigit{1}}{\isacharasterisk}x\isactrlsub {\isadigit{2}}{\isacharasterisk}y\isactrlsub {\isadigit{2}}{\isacharparenright}{\isacharcomma}\ \isanewline
\ \ \ \ \ {\isacharparenleft}x\isactrlsub {\isadigit{1}}{\isacharasterisk}y\isactrlsub {\isadigit{2}}{\isacharplus}y\isactrlsub {\isadigit{1}}{\isacharasterisk}x\isactrlsub {\isadigit{2}}{\isacharparenright}\ div\ {\isacharparenleft}{\isadigit{1}}{\isacharplus}d{\isacharasterisk}x\isactrlsub {\isadigit{1}}{\isacharasterisk}y\isactrlsub {\isadigit{1}}{\isacharasterisk}x\isactrlsub {\isadigit{2}}{\isacharasterisk}y\isactrlsub {\isadigit{2}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ delta{\isacharunderscore}plus\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ {\isachardoublequoteopen}delta{\isacharunderscore}plus\ x{\isadigit{1}}\ y{\isadigit{1}}\ x{\isadigit{2}}\ y{\isadigit{2}}\ {\isacharequal}\ {\isadigit{1}}\ {\isacharplus}\ d\ {\isacharasterisk}\ x{\isadigit{1}}\ {\isacharasterisk}\ y{\isadigit{1}}\ {\isacharasterisk}\ x{\isadigit{2}}\ {\isacharasterisk}\ y{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ delta{\isacharunderscore}minus\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ {\isachardoublequoteopen}delta{\isacharunderscore}minus\ x{\isadigit{1}}\ y{\isadigit{1}}\ x{\isadigit{2}}\ y{\isadigit{2}}\ {\isacharequal}\ {\isadigit{1}}\ {\isacharminus}\ d\ {\isacharasterisk}\ x{\isadigit{1}}\ {\isacharasterisk}\ y{\isadigit{1}}\ {\isacharasterisk}\ x{\isadigit{2}}\ {\isacharasterisk}\ y{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ delta\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ {\isachardoublequoteopen}delta\ x{\isadigit{1}}\ y{\isadigit{1}}\ x{\isadigit{2}}\ y{\isadigit{2}}\ {\isacharequal}\ {\isacharparenleft}delta{\isacharunderscore}plus\ x{\isadigit{1}}\ y{\isadigit{1}}\ x{\isadigit{2}}\ y{\isadigit{2}}{\isacharparenright}\ {\isacharasterisk}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}delta{\isacharunderscore}minus\ x{\isadigit{1}}\ y{\isadigit{1}}\ x{\isadigit{2}}\ y{\isadigit{2}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ e\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ {\isachardoublequoteopen}e\ x\ y\ {\isacharequal}\ x{\isacharcircum}{\isadigit{2}}\ {\isacharplus}\ c\ {\isacharasterisk}\ y{\isacharcircum}{\isadigit{2}}\ {\isacharminus}\ {\isadigit{1}}\ {\isacharminus}\ d\ {\isacharasterisk}\ x{\isacharcircum}{\isadigit{2}}\ {\isacharasterisk}\ y{\isacharcircum}{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ associativity{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}z{\isadigit{1}}{\isacharprime}\ {\isacharequal}\ {\isacharparenleft}x{\isadigit{1}}{\isacharprime}{\isacharcomma}y{\isadigit{1}}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ {\isachardoublequoteopen}z{\isadigit{3}}{\isacharprime}\ {\isacharequal}\ {\isacharparenleft}x{\isadigit{3}}{\isacharprime}{\isacharcomma}y{\isadigit{3}}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}z{\isadigit{1}}{\isacharprime}\ {\isacharequal}\ add\ {\isacharparenleft}x{\isadigit{1}}{\isacharcomma}y{\isadigit{1}}{\isacharparenright}\ {\isacharparenleft}x{\isadigit{2}}{\isacharcomma}y{\isadigit{2}}{\isacharparenright}{\isachardoublequoteclose}\ {\isachardoublequoteopen}z{\isadigit{3}}{\isacharprime}\ {\isacharequal}\ add\ {\isacharparenleft}x{\isadigit{2}}{\isacharcomma}y{\isadigit{2}}{\isacharparenright}\ {\isacharparenleft}x{\isadigit{3}}{\isacharcomma}y{\isadigit{3}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}delta{\isacharunderscore}minus\ x{\isadigit{1}}\ y{\isadigit{1}}\ x{\isadigit{2}}\ y{\isadigit{2}}\ {\isasymnoteq}\ {\isadigit{0}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}delta{\isacharunderscore}plus\ x{\isadigit{1}}\ y{\isadigit{1}}\ x{\isadigit{2}}\ y{\isadigit{2}}\ {\isasymnoteq}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}delta{\isacharunderscore}minus\ x{\isadigit{2}}\ y{\isadigit{2}}\ x{\isadigit{3}}\ y{\isadigit{3}}\ {\isasymnoteq}\ {\isadigit{0}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}delta{\isacharunderscore}plus\ x{\isadigit{2}}\ y{\isadigit{2}}\ x{\isadigit{3}}\ y{\isadigit{3}}\ {\isasymnoteq}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}delta{\isacharunderscore}minus\ x{\isadigit{1}}{\isacharprime}\ y{\isadigit{1}}{\isacharprime}\ x{\isadigit{3}}\ y{\isadigit{3}}\ {\isasymnoteq}\ {\isadigit{0}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}delta{\isacharunderscore}plus\ x{\isadigit{1}}{\isacharprime}\ y{\isadigit{1}}{\isacharprime}\ x{\isadigit{3}}\ y{\isadigit{3}}\ {\isasymnoteq}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}delta{\isacharunderscore}minus\ x{\isadigit{1}}\ y{\isadigit{1}}\ x{\isadigit{3}}{\isacharprime}\ y{\isadigit{3}}{\isacharprime}\ {\isasymnoteq}\ {\isadigit{0}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}delta{\isacharunderscore}plus\ x{\isadigit{1}}\ y{\isadigit{1}}\ x{\isadigit{3}}{\isacharprime}\ y{\isadigit{3}}{\isacharprime}\ {\isasymnoteq}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}e\ x{\isadigit{1}}\ y{\isadigit{1}}\ {\isacharequal}\ {\isadigit{0}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}e\ x{\isadigit{2}}\ y{\isadigit{2}}\ {\isacharequal}\ {\isadigit{0}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}e\ x{\isadigit{3}}\ y{\isadigit{3}}\ {\isacharequal}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}add\ {\isacharparenleft}add\ {\isacharparenleft}x{\isadigit{1}}{\isacharcomma}y{\isadigit{1}}{\isacharparenright}\ {\isacharparenleft}x{\isadigit{2}}{\isacharcomma}y{\isadigit{2}}{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}x{\isadigit{3}}{\isacharcomma}y{\isadigit{3}}{\isacharparenright}\ {\isacharequal}\ add\ {\isacharparenleft}x{\isadigit{1}}{\isacharcomma}y{\isadigit{1}}{\isacharparenright}\ {\isacharparenleft}add\ {\isacharparenleft}x{\isadigit{2}}{\isacharcomma}y{\isadigit{2}}{\isacharparenright}\ {\isacharparenleft}x{\isadigit{3}}{\isacharcomma}y{\isadigit{3}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ e{\isadigit{1}}\ \isakeyword{where}\ {\isachardoublequoteopen}e{\isadigit{1}}\ {\isacharequal}\ e\ x{\isadigit{1}}\ y{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ e{\isadigit{2}}\ \isakeyword{where}\ {\isachardoublequoteopen}e{\isadigit{2}}\ {\isacharequal}\ e\ x{\isadigit{2}}\ y{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ e{\isadigit{3}}\ \isakeyword{where}\ {\isachardoublequoteopen}e{\isadigit{3}}\ {\isacharequal}\ e\ x{\isadigit{3}}\ y{\isadigit{3}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ Delta\isactrlsub x\ \isakeyword{where}\ {\isachardoublequoteopen}Delta\isactrlsub x\ {\isacharequal}\ \isanewline
\ \ \ {\isacharparenleft}delta{\isacharunderscore}minus\ x{\isadigit{1}}{\isacharprime}\ y{\isadigit{1}}{\isacharprime}\ x{\isadigit{3}}\ y{\isadigit{3}}{\isacharparenright}{\isacharasterisk}{\isacharparenleft}delta{\isacharunderscore}minus\ x{\isadigit{1}}\ y{\isadigit{1}}\ x{\isadigit{3}}{\isacharprime}\ y{\isadigit{3}}{\isacharprime}{\isacharparenright}{\isacharasterisk}\isanewline
\ \ \ {\isacharparenleft}delta\ x{\isadigit{1}}\ y{\isadigit{1}}\ x{\isadigit{2}}\ y{\isadigit{2}}{\isacharparenright}{\isacharasterisk}{\isacharparenleft}delta\ x{\isadigit{2}}\ y{\isadigit{2}}\ x{\isadigit{3}}\ y{\isadigit{3}}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ Delta\isactrlsub y\ \isakeyword{where}\ {\isachardoublequoteopen}Delta\isactrlsub y\ {\isacharequal}\isanewline
\ \ \ {\isacharparenleft}delta{\isacharunderscore}plus\ x{\isadigit{1}}{\isacharprime}\ y{\isadigit{1}}{\isacharprime}\ x{\isadigit{3}}\ y{\isadigit{3}}{\isacharparenright}{\isacharasterisk}{\isacharparenleft}delta{\isacharunderscore}plus\ x{\isadigit{1}}\ y{\isadigit{1}}\ x{\isadigit{3}}{\isacharprime}\ y{\isadigit{3}}{\isacharprime}{\isacharparenright}{\isacharasterisk}\isanewline
\ \ \ {\isacharparenleft}delta\ x{\isadigit{1}}\ y{\isadigit{1}}\ x{\isadigit{2}}\ y{\isadigit{2}}{\isacharparenright}{\isacharasterisk}{\isacharparenleft}delta\ x{\isadigit{2}}\ y{\isadigit{2}}\ x{\isadigit{3}}\ y{\isadigit{3}}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ g\isactrlsub x\ \isakeyword{where}\ {\isachardoublequoteopen}g\isactrlsub x\ {\isacharequal}\ fst{\isacharparenleft}add\ z{\isadigit{1}}{\isacharprime}\ {\isacharparenleft}x{\isadigit{3}}{\isacharcomma}y{\isadigit{3}}{\isacharparenright}{\isacharparenright}\ {\isacharminus}\ fst{\isacharparenleft}add\ {\isacharparenleft}x{\isadigit{1}}{\isacharcomma}y{\isadigit{1}}{\isacharparenright}\ z{\isadigit{3}}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ g\isactrlsub y\ \isakeyword{where}\ {\isachardoublequoteopen}g\isactrlsub y\ {\isacharequal}\ snd{\isacharparenleft}add\ z{\isadigit{1}}{\isacharprime}\ {\isacharparenleft}x{\isadigit{3}}{\isacharcomma}y{\isadigit{3}}{\isacharparenright}{\isacharparenright}\ {\isacharminus}\ snd{\isacharparenleft}add\ {\isacharparenleft}x{\isadigit{1}}{\isacharcomma}y{\isadigit{1}}{\isacharparenright}\ z{\isadigit{3}}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ gxpoly\ \isakeyword{where}\ {\isachardoublequoteopen}gxpoly\ {\isacharequal}\ g\isactrlsub x\ {\isacharasterisk}\ Delta\isactrlsub x{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ gypoly\ \isakeyword{where}\ {\isachardoublequoteopen}gypoly\ {\isacharequal}\ g\isactrlsub y\ {\isacharasterisk}\ Delta\isactrlsub y{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ x{\isadigit{1}}{\isacharprime}{\isacharunderscore}expr{\isacharcolon}\ {\isachardoublequoteopen}x{\isadigit{1}}{\isacharprime}\ {\isacharequal}\ {\isacharparenleft}x{\isadigit{1}}\ {\isacharasterisk}\ x{\isadigit{2}}\ {\isacharminus}\ c\ {\isacharasterisk}\ y{\isadigit{1}}\ {\isacharasterisk}\ y{\isadigit{2}}{\isacharparenright}\ {\isacharslash}\ {\isacharparenleft}{\isadigit{1}}\ {\isacharminus}\ d\ {\isacharasterisk}\ x{\isadigit{1}}\ {\isacharasterisk}\ y{\isadigit{1}}\ {\isacharasterisk}\ x{\isadigit{2}}\ {\isacharasterisk}\ y{\isadigit{2}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\isadigit{1}}{\isacharcomma}{\isadigit{3}}{\isacharparenright}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ y{\isadigit{1}}{\isacharprime}{\isacharunderscore}expr{\isacharcolon}\ {\isachardoublequoteopen}y{\isadigit{1}}{\isacharprime}\ {\isacharequal}\ {\isacharparenleft}x{\isadigit{1}}\ {\isacharasterisk}\ y{\isadigit{2}}\ {\isacharplus}\ y{\isadigit{1}}\ {\isacharasterisk}\ x{\isadigit{2}}{\isacharparenright}\ {\isacharslash}\ {\isacharparenleft}{\isadigit{1}}\ {\isacharplus}\ d\ {\isacharasterisk}\ x{\isadigit{1}}\ {\isacharasterisk}\ y{\isadigit{1}}\ {\isacharasterisk}\ x{\isadigit{2}}\ {\isacharasterisk}\ y{\isadigit{2}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\isadigit{1}}{\isacharcomma}{\isadigit{3}}{\isacharparenright}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ x{\isadigit{3}}{\isacharprime}{\isacharunderscore}expr{\isacharcolon}\ {\isachardoublequoteopen}x{\isadigit{3}}{\isacharprime}\ {\isacharequal}\ {\isacharparenleft}x{\isadigit{2}}\ {\isacharasterisk}\ x{\isadigit{3}}\ {\isacharminus}\ c\ {\isacharasterisk}\ y{\isadigit{2}}\ {\isacharasterisk}\ y{\isadigit{3}}{\isacharparenright}\ {\isacharslash}\ {\isacharparenleft}{\isadigit{1}}\ {\isacharminus}\ d\ {\isacharasterisk}\ x{\isadigit{2}}\ {\isacharasterisk}\ y{\isadigit{2}}\ {\isacharasterisk}\ x{\isadigit{3}}\ {\isacharasterisk}\ y{\isadigit{3}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\isadigit{2}}{\isacharcomma}{\isadigit{4}}{\isacharparenright}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ y{\isadigit{3}}{\isacharprime}{\isacharunderscore}expr{\isacharcolon}\ {\isachardoublequoteopen}y{\isadigit{3}}{\isacharprime}\ {\isacharequal}\ {\isacharparenleft}x{\isadigit{2}}\ {\isacharasterisk}\ y{\isadigit{3}}\ {\isacharplus}\ y{\isadigit{2}}\ {\isacharasterisk}\ x{\isadigit{3}}{\isacharparenright}\ {\isacharslash}\ {\isacharparenleft}{\isadigit{1}}\ {\isacharplus}\ d\ {\isacharasterisk}\ x{\isadigit{2}}\ {\isacharasterisk}\ y{\isadigit{2}}\ {\isacharasterisk}\ x{\isadigit{3}}\ {\isacharasterisk}\ y{\isadigit{3}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\isadigit{2}}{\isacharcomma}{\isadigit{4}}{\isacharparenright}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ non{\isacharunderscore}unfolded{\isacharunderscore}adds{\isacharcolon}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}delta\ x{\isadigit{1}}\ y{\isadigit{1}}\ x{\isadigit{2}}\ y{\isadigit{2}}\ {\isasymnoteq}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ delta{\isacharunderscore}def\ assms{\isacharparenleft}{\isadigit{5}}{\isacharcomma}{\isadigit{6}}{\isacharparenright}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ simp{\isadigit{1}}gx{\isacharcolon}\ {\isachardoublequoteopen}\isanewline
\ \ \ \ {\isacharparenleft}x{\isadigit{1}}{\isacharprime}\ {\isacharasterisk}\ x{\isadigit{3}}\ {\isacharminus}\ c\ {\isacharasterisk}\ y{\isadigit{1}}{\isacharprime}\ {\isacharasterisk}\ y{\isadigit{3}}{\isacharparenright}\ {\isacharasterisk}\ delta{\isacharunderscore}minus\ x{\isadigit{1}}\ y{\isadigit{1}}\ x{\isadigit{3}}{\isacharprime}\ y{\isadigit{3}}{\isacharprime}\ {\isacharasterisk}\ \isanewline
\ \ \ \ {\isacharparenleft}delta\ x{\isadigit{1}}\ y{\isadigit{1}}\ x{\isadigit{2}}\ y{\isadigit{2}}\ {\isacharasterisk}\ delta\ x{\isadigit{2}}\ y{\isadigit{2}}\ x{\isadigit{3}}\ y{\isadigit{3}}{\isacharparenright}\ {\isacharequal}\ \isanewline
\ \ \ \ \ \ {\isacharparenleft}{\isacharparenleft}x{\isadigit{1}}\ {\isacharasterisk}\ x{\isadigit{2}}\ {\isacharminus}\ c\ {\isacharasterisk}\ y{\isadigit{1}}\ {\isacharasterisk}\ y{\isadigit{2}}{\isacharparenright}\ {\isacharasterisk}\ x{\isadigit{3}}\ {\isacharasterisk}\ delta{\isacharunderscore}plus\ x{\isadigit{1}}\ y{\isadigit{1}}\ x{\isadigit{2}}\ y{\isadigit{2}}\ {\isacharminus}\ \isanewline
\ \ \ \ \ \ c\ {\isacharasterisk}\ {\isacharparenleft}x{\isadigit{1}}\ {\isacharasterisk}\ y{\isadigit{2}}\ {\isacharplus}\ y{\isadigit{1}}\ {\isacharasterisk}\ x{\isadigit{2}}{\isacharparenright}\ {\isacharasterisk}\ y{\isadigit{3}}\ {\isacharasterisk}\ delta{\isacharunderscore}minus\ x{\isadigit{1}}\ y{\isadigit{1}}\ x{\isadigit{2}}\ y{\isadigit{2}}{\isacharparenright}\ {\isacharasterisk}\isanewline
\ \ \ \ \ \ {\isacharparenleft}delta{\isacharunderscore}minus\ x{\isadigit{2}}\ y{\isadigit{2}}\ x{\isadigit{3}}\ y{\isadigit{3}}\ {\isacharasterisk}\ delta{\isacharunderscore}plus\ x{\isadigit{2}}\ y{\isadigit{2}}\ x{\isadigit{3}}\ y{\isadigit{3}}\ {\isacharminus}\ \isanewline
\ \ \ \ \ \ d\ {\isacharasterisk}\ x{\isadigit{1}}\ {\isacharasterisk}\ y{\isadigit{1}}\ {\isacharasterisk}\ {\isacharparenleft}x{\isadigit{2}}\ {\isacharasterisk}\ x{\isadigit{3}}\ {\isacharminus}\ c\ {\isacharasterisk}\ y{\isadigit{2}}\ {\isacharasterisk}\ y{\isadigit{3}}{\isacharparenright}\ {\isacharasterisk}\ {\isacharparenleft}x{\isadigit{2}}\ {\isacharasterisk}\ y{\isadigit{3}}\ {\isacharplus}\ y{\isadigit{2}}\ {\isacharasterisk}\ x{\isadigit{3}}{\isacharparenright}{\isacharparenright}\isanewline
\ \ {\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}rewrite\ x{\isadigit{1}}{\isacharprime}{\isacharunderscore}expr\ y{\isadigit{1}}{\isacharprime}{\isacharunderscore}expr\ x{\isadigit{3}}{\isacharprime}{\isacharunderscore}expr\ y{\isadigit{3}}{\isacharprime}{\isacharunderscore}expr{\isacharparenright}{\isacharplus}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}rewrite\ delta{\isacharunderscore}minus{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}rewrite\ \isakeyword{in}\ {\isachardoublequoteopen}{\isacharunderscore}\ {\isacharslash}\ {\isasymhole}{\isachardoublequoteclose}\ delta{\isacharunderscore}minus{\isacharunderscore}def{\isacharbrackleft}symmetric{\isacharbrackright}\ delta{\isacharunderscore}plus{\isacharunderscore}def{\isacharbrackleft}symmetric{\isacharbrackright}{\isacharparenright}{\isacharplus}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ delta{\isacharunderscore}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
{\isacharparenleft}simp\ add{\isacharcolon}\ divide{\isacharunderscore}simps\ assms{\isacharparenleft}{\isadigit{5}}{\isacharminus}{\isadigit{8}}{\isacharparenright}{\isacharparenright}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ simp{\isadigit{2}}gx{\isacharcolon}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}x{\isadigit{1}}\ {\isacharasterisk}\ x{\isadigit{3}}{\isacharprime}\ {\isacharminus}\ c\ {\isacharasterisk}\ y{\isadigit{1}}\ {\isacharasterisk}\ y{\isadigit{3}}{\isacharprime}{\isacharparenright}\ {\isacharasterisk}\ delta{\isacharunderscore}minus\ x{\isadigit{1}}{\isacharprime}\ y{\isadigit{1}}{\isacharprime}\ x{\isadigit{3}}\ y{\isadigit{3}}\ {\isacharasterisk}\ \isanewline
\ \ \ \ \ {\isacharparenleft}delta\ x{\isadigit{1}}\ y{\isadigit{1}}\ x{\isadigit{2}}\ y{\isadigit{2}}\ {\isacharasterisk}\ delta\ x{\isadigit{2}}\ y{\isadigit{2}}\ x{\isadigit{3}}\ y{\isadigit{3}}{\isacharparenright}\ {\isacharequal}\ \isanewline
\ \ \ \ \ \ \ {\isacharparenleft}x{\isadigit{1}}\ {\isacharasterisk}\ {\isacharparenleft}x{\isadigit{2}}\ {\isacharasterisk}\ x{\isadigit{3}}\ {\isacharminus}\ c\ {\isacharasterisk}\ y{\isadigit{2}}\ {\isacharasterisk}\ y{\isadigit{3}}{\isacharparenright}\ {\isacharasterisk}\ delta{\isacharunderscore}plus\ x{\isadigit{2}}\ y{\isadigit{2}}\ x{\isadigit{3}}\ y{\isadigit{3}}\ {\isacharminus}\ \isanewline
\ \ \ \ \ \ \ c\ {\isacharasterisk}\ y{\isadigit{1}}\ {\isacharasterisk}\ {\isacharparenleft}x{\isadigit{2}}\ {\isacharasterisk}\ y{\isadigit{3}}\ {\isacharplus}\ y{\isadigit{2}}\ {\isacharasterisk}\ x{\isadigit{3}}{\isacharparenright}\ {\isacharasterisk}\ delta{\isacharunderscore}minus\ x{\isadigit{2}}\ y{\isadigit{2}}\ x{\isadigit{3}}\ y{\isadigit{3}}{\isacharparenright}\ {\isacharasterisk}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}delta{\isacharunderscore}minus\ x{\isadigit{1}}\ y{\isadigit{1}}\ x{\isadigit{2}}\ y{\isadigit{2}}\ {\isacharasterisk}\ delta{\isacharunderscore}plus\ x{\isadigit{1}}\ y{\isadigit{1}}\ x{\isadigit{2}}\ y{\isadigit{2}}\ {\isacharminus}\ \isanewline
\ \ \ \ \ \ \ d\ {\isacharasterisk}\ {\isacharparenleft}x{\isadigit{1}}\ {\isacharasterisk}\ x{\isadigit{2}}\ {\isacharminus}\ c\ {\isacharasterisk}\ y{\isadigit{1}}\ {\isacharasterisk}\ y{\isadigit{2}}{\isacharparenright}\ {\isacharasterisk}\ {\isacharparenleft}x{\isadigit{1}}\ {\isacharasterisk}\ y{\isadigit{2}}\ {\isacharplus}\ y{\isadigit{1}}\ {\isacharasterisk}\ x{\isadigit{2}}{\isacharparenright}\ {\isacharasterisk}\ x{\isadigit{3}}\ {\isacharasterisk}\ y{\isadigit{3}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}rewrite\ x{\isadigit{1}}{\isacharprime}{\isacharunderscore}expr\ y{\isadigit{1}}{\isacharprime}{\isacharunderscore}expr\ x{\isadigit{3}}{\isacharprime}{\isacharunderscore}expr\ y{\isadigit{3}}{\isacharprime}{\isacharunderscore}expr{\isacharparenright}{\isacharplus}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}rewrite\ delta{\isacharunderscore}minus{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}rewrite\ \isakeyword{in}\ {\isachardoublequoteopen}{\isacharunderscore}\ {\isacharslash}\ {\isasymhole}{\isachardoublequoteclose}\ delta{\isacharunderscore}minus{\isacharunderscore}def{\isacharbrackleft}symmetric{\isacharbrackright}\ delta{\isacharunderscore}plus{\isacharunderscore}def{\isacharbrackleft}symmetric{\isacharbrackright}{\isacharparenright}{\isacharplus}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ delta{\isacharunderscore}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
{\isacharparenleft}simp\ add{\isacharcolon}\ divide{\isacharunderscore}simps\ assms{\isacharparenleft}{\isadigit{5}}{\isacharminus}{\isadigit{8}}{\isacharparenright}{\isacharparenright}\isanewline
\ \ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}\ r{\isadigit{1}}\ r{\isadigit{2}}\ r{\isadigit{3}}{\isachardot}\ gxpoly\ {\isacharequal}\ r{\isadigit{1}}\ {\isacharasterisk}\ e{\isadigit{1}}\ {\isacharplus}\ r{\isadigit{2}}\ {\isacharasterisk}\ e{\isadigit{2}}\ {\isacharplus}\ r{\isadigit{3}}\ {\isacharasterisk}\ e{\isadigit{3}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ gxpoly{\isacharunderscore}def\ g\isactrlsub x{\isacharunderscore}def\ Delta\isactrlsub x{\isacharunderscore}def\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}simp\ add{\isacharcolon}\ assms{\isacharparenleft}{\isadigit{1}}{\isacharcomma}{\isadigit{2}}{\isacharparenright}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}rewrite\ \isakeyword{in}\ {\isachardoublequoteopen}{\isacharunderscore}\ {\isacharslash}\ {\isasymhole}{\isachardoublequoteclose}\ delta{\isacharunderscore}minus{\isacharunderscore}def{\isacharbrackleft}symmetric{\isacharbrackright}{\isacharparenright}{\isacharplus}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}simp\ add{\isacharcolon}\ divide{\isacharunderscore}simps\ assms{\isacharparenleft}{\isadigit{9}}{\isacharcomma}{\isadigit{1}}{\isadigit{1}}{\isacharparenright}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}rewrite\ left{\isacharunderscore}diff{\isacharunderscore}distrib{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}simp\ add{\isacharcolon}\ simp{\isadigit{1}}gx\ simp{\isadigit{2}}gx{\isacharparenright}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ delta{\isacharunderscore}plus{\isacharunderscore}def\ delta{\isacharunderscore}minus{\isacharunderscore}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ e{\isadigit{1}}{\isacharunderscore}def\ e{\isadigit{2}}{\isacharunderscore}def\ e{\isadigit{3}}{\isacharunderscore}def\ e{\isacharunderscore}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ algebra\isanewline
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \isacommand{sorry}\isamarkupfalse%
\isanewline
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Extension%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{locale}\isamarkupfalse%
\ ext{\isacharunderscore}curve{\isacharunderscore}addition\ {\isacharequal}\ curve{\isacharunderscore}addition\ {\isacharplus}\isanewline
\ \ \isakeyword{fixes}\ t{\isacharprime}\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a{\isacharcolon}{\isacharcolon}ell{\isacharunderscore}field{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ c{\isacharunderscore}eq{\isacharunderscore}{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}c\ {\isacharequal}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ t{\isacharunderscore}intro{\isacharcolon}\ {\isachardoublequoteopen}d\ {\isacharequal}\ t{\isacharprime}{\isacharcircum}{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ t{\isacharunderscore}ineq{\isacharcolon}\ {\isachardoublequoteopen}t{\isacharprime}{\isacharcircum}{\isadigit{2}}\ {\isasymnoteq}\ {\isadigit{1}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}t{\isacharprime}\ {\isasymnoteq}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\isakeyword{begin}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ ext{\isacharunderscore}add\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ {\isasymtimes}\ {\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymtimes}\ {\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymtimes}\ {\isacharprime}a{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ {\isachardoublequoteopen}ext{\isacharunderscore}add\ {\isacharparenleft}x{\isadigit{1}}{\isacharcomma}y{\isadigit{1}}{\isacharparenright}\ {\isacharparenleft}x{\isadigit{2}}{\isacharcomma}y{\isadigit{2}}{\isacharparenright}\ {\isacharequal}\isanewline
\ \ \ \ {\isacharparenleft}{\isacharparenleft}x{\isadigit{1}}{\isacharasterisk}y{\isadigit{1}}{\isacharminus}x{\isadigit{2}}{\isacharasterisk}y{\isadigit{2}}{\isacharparenright}\ div\ {\isacharparenleft}x{\isadigit{2}}{\isacharasterisk}y{\isadigit{1}}{\isacharminus}x{\isadigit{1}}{\isacharasterisk}y{\isadigit{2}}{\isacharparenright}{\isacharcomma}\isanewline
\ \ \ \ \ {\isacharparenleft}x{\isadigit{1}}{\isacharasterisk}y{\isadigit{1}}{\isacharplus}x{\isadigit{2}}{\isacharasterisk}y{\isadigit{2}}{\isacharparenright}\ div\ {\isacharparenleft}x{\isadigit{1}}{\isacharasterisk}x{\isadigit{2}}{\isacharplus}y{\isadigit{1}}{\isacharasterisk}y{\isadigit{2}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ t\ \isakeyword{where}\ {\isachardoublequoteopen}t\ {\isacharequal}\ t{\isacharprime}{\isachardoublequoteclose}\ \isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ {\isasymtau}\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ {\isasymtimes}\ {\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymtimes}\ {\isacharprime}a{\isachardoublequoteclose}\ \isakeyword{where}\ \isanewline
\ \ {\isachardoublequoteopen}{\isasymtau}\ {\isacharparenleft}x{\isacharcomma}y{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}{\isadigit{1}}{\isacharslash}{\isacharparenleft}t{\isacharasterisk}x{\isacharparenright}{\isacharcomma}{\isadigit{1}}{\isacharslash}{\isacharparenleft}t{\isacharasterisk}y{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ delta{\isacharunderscore}x\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}delta{\isacharunderscore}x\ x{\isadigit{1}}\ y{\isadigit{1}}\ x{\isadigit{2}}\ y{\isadigit{2}}\ {\isacharequal}\ x{\isadigit{2}}{\isacharasterisk}y{\isadigit{1}}\ {\isacharminus}\ x{\isadigit{1}}{\isacharasterisk}y{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\isacommand{definition}\isamarkupfalse%
\ delta{\isacharunderscore}y\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}delta{\isacharunderscore}y\ x{\isadigit{1}}\ y{\isadigit{1}}\ x{\isadigit{2}}\ y{\isadigit{2}}\ {\isacharequal}\ x{\isadigit{1}}{\isacharasterisk}x{\isadigit{2}}\ {\isacharplus}\ y{\isadigit{1}}{\isacharasterisk}y{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\isacommand{definition}\isamarkupfalse%
\ delta{\isacharprime}\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}a{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}delta{\isacharprime}\ x{\isadigit{1}}\ y{\isadigit{1}}\ x{\isadigit{2}}\ y{\isadigit{2}}\ {\isacharequal}\ delta{\isacharunderscore}x\ x{\isadigit{1}}\ y{\isadigit{1}}\ x{\isadigit{2}}\ y{\isadigit{2}}\ {\isacharasterisk}\ delta{\isacharunderscore}y\ x{\isadigit{1}}\ y{\isadigit{1}}\ x{\isadigit{2}}\ y{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ e{\isacharprime}\ \isakeyword{where}\ {\isachardoublequoteopen}e{\isacharprime}\ x\ y\ {\isacharequal}\ x{\isacharcircum}{\isadigit{2}}\ {\isacharplus}\ y{\isacharcircum}{\isadigit{2}}\ {\isacharminus}\ {\isadigit{1}}\ {\isacharminus}\ t{\isacharcircum}{\isadigit{2}}\ {\isacharasterisk}\ x{\isacharcircum}{\isadigit{2}}\ {\isacharasterisk}\ y{\isacharcircum}{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isachardoublequoteopen}e{\isacharprime}{\isacharunderscore}aff\ {\isacharequal}\ {\isacharbraceleft}{\isacharparenleft}x{\isacharcomma}y{\isacharparenright}{\isachardot}\ e{\isacharprime}\ x\ y\ {\isacharequal}\ {\isadigit{0}}{\isacharbraceright}{\isachardoublequoteclose}\ \isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ gluing\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}{\isacharparenleft}{\isacharparenleft}{\isacharprime}a\ {\isasymtimes}\ {\isacharprime}a{\isacharparenright}\ {\isasymtimes}\ bit{\isacharparenright}\ {\isasymtimes}\ {\isacharparenleft}{\isacharparenleft}{\isacharprime}a\ {\isasymtimes}\ {\isacharprime}a{\isacharparenright}\ {\isasymtimes}\ bit{\isacharparenright}{\isacharparenright}\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}gluing\ {\isacharequal}\ {\isacharbraceleft}{\isacharparenleft}{\isacharparenleft}{\isacharparenleft}x{\isadigit{0}}{\isacharcomma}y{\isadigit{0}}{\isacharparenright}{\isacharcomma}l{\isacharparenright}{\isacharcomma}{\isacharparenleft}{\isacharparenleft}x{\isadigit{1}}{\isacharcomma}y{\isadigit{1}}{\isacharparenright}{\isacharcomma}j{\isacharparenright}{\isacharparenright}{\isachardot}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isacharparenleft}x{\isadigit{0}}{\isacharcomma}y{\isadigit{0}}{\isacharparenright}\ {\isasymin}\ e{\isacharprime}{\isacharunderscore}aff\ {\isasymand}\ {\isacharparenleft}x{\isadigit{1}}{\isacharcomma}y{\isadigit{1}}{\isacharparenright}\ {\isasymin}\ e{\isacharprime}{\isacharunderscore}aff{\isacharparenright}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isacharparenleft}x{\isadigit{0}}\ {\isasymnoteq}\ {\isadigit{0}}\ {\isasymand}\ y{\isadigit{0}}\ {\isasymnoteq}\ {\isadigit{0}}\ {\isasymand}\ {\isacharparenleft}x{\isadigit{1}}{\isacharcomma}y{\isadigit{1}}{\isacharparenright}\ {\isacharequal}\ {\isasymtau}\ {\isacharparenleft}x{\isadigit{0}}{\isacharcomma}y{\isadigit{0}}{\isacharparenright}\ {\isasymand}\ j\ {\isacharequal}\ l{\isacharplus}{\isadigit{1}}{\isacharparenright}\ {\isasymor}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}x{\isadigit{0}}\ {\isacharequal}\ x{\isadigit{1}}\ {\isasymand}\ y{\isadigit{0}}\ {\isacharequal}\ y{\isadigit{1}}\ {\isasymand}\ l\ {\isacharequal}\ j{\isacharparenright}{\isacharparenright}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ coherence{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}delta\ x{\isadigit{1}}\ y{\isadigit{1}}\ x{\isadigit{2}}\ y{\isadigit{2}}\ {\isasymnoteq}\ {\isadigit{0}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}delta{\isacharprime}\ x{\isadigit{1}}\ y{\isadigit{1}}\ x{\isadigit{2}}\ y{\isadigit{2}}\ {\isasymnoteq}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}e{\isacharprime}\ x{\isadigit{1}}\ y{\isadigit{1}}\ {\isacharequal}\ {\isadigit{0}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}e{\isacharprime}\ x{\isadigit{2}}\ y{\isadigit{2}}\ {\isacharequal}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}ext{\isacharunderscore}add\ {\isacharparenleft}x{\isadigit{1}}{\isacharcomma}y{\isadigit{1}}{\isacharparenright}\ {\isacharparenleft}x{\isadigit{2}}{\isacharcomma}y{\isadigit{2}}{\isacharparenright}\ {\isacharequal}\ add\ {\isacharparenleft}x{\isadigit{1}}{\isacharcomma}y{\isadigit{1}}{\isacharparenright}\ {\isacharparenleft}x{\isadigit{2}}{\isacharcomma}y{\isadigit{2}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{sorry}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{type{\isacharunderscore}synonym}\isamarkupfalse%
\ {\isacharparenleft}{\isacharprime}b{\isacharparenright}\ ppoint\ {\isacharequal}\ {\isacartoucheopen}{\isacharparenleft}{\isacharparenleft}{\isacharprime}b\ {\isasymtimes}\ {\isacharprime}b{\isacharparenright}\ {\isasymtimes}\ bit{\isacharparenright}{\isacartoucheclose}\isanewline
\isanewline
\isacommand{function}\isamarkupfalse%
\ proj{\isacharunderscore}add\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ ppoint\ {\isasymtimes}{\isacharprime}a\ ppoint\ {\isasymRightarrow}\ {\isacharprime}a\ ppoint{\isachardoublequoteclose}\ \isakeyword{where}\ \isanewline
\ \ {\isachardoublequoteopen}proj{\isacharunderscore}add\ {\isacharparenleft}{\isacharparenleft}{\isacharparenleft}x\isactrlsub {\isadigit{1}}{\isacharcomma}\ y\isactrlsub {\isadigit{1}}{\isacharparenright}{\isacharcomma}\ l{\isacharparenright}{\isacharcomma}{\isacharparenleft}{\isacharparenleft}x\isactrlsub {\isadigit{2}}{\isacharcomma}\ y\isactrlsub {\isadigit{2}}{\isacharparenright}{\isacharcomma}\ j{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}add\ {\isacharparenleft}x\isactrlsub {\isadigit{1}}{\isacharcomma}\ y\isactrlsub {\isadigit{1}}{\isacharparenright}\ {\isacharparenleft}x\isactrlsub {\isadigit{2}}{\isacharcomma}\ y\isactrlsub {\isadigit{2}}{\isacharparenright}{\isacharcomma}\ l{\isacharplus}j{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \isakeyword{if}\ {\isachardoublequoteopen}delta\ x\isactrlsub {\isadigit{1}}\ y\isactrlsub {\isadigit{1}}\ x\isactrlsub {\isadigit{2}}\ y\isactrlsub {\isadigit{2}}\ {\isasymnoteq}\ {\isadigit{0}}\ {\isasymand}\ {\isacharparenleft}x\isactrlsub {\isadigit{1}}{\isacharcomma}\ y\isactrlsub {\isadigit{1}}{\isacharparenright}\ {\isasymin}\ e{\isacharprime}{\isacharunderscore}aff\ {\isasymand}\ {\isacharparenleft}x\isactrlsub {\isadigit{2}}{\isacharcomma}\ y\isactrlsub {\isadigit{2}}{\isacharparenright}\ {\isasymin}\ e{\isacharprime}{\isacharunderscore}aff{\isachardoublequoteclose}\ \isanewline
{\isacharbar}\ {\isachardoublequoteopen}proj{\isacharunderscore}add\ {\isacharparenleft}{\isacharparenleft}{\isacharparenleft}x\isactrlsub {\isadigit{1}}{\isacharcomma}\ y\isactrlsub {\isadigit{1}}{\isacharparenright}{\isacharcomma}\ l{\isacharparenright}{\isacharcomma}{\isacharparenleft}{\isacharparenleft}x\isactrlsub {\isadigit{2}}{\isacharcomma}\ y\isactrlsub {\isadigit{2}}{\isacharparenright}{\isacharcomma}\ j{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}ext{\isacharunderscore}add\ {\isacharparenleft}x\isactrlsub {\isadigit{1}}{\isacharcomma}\ y\isactrlsub {\isadigit{1}}{\isacharparenright}\ {\isacharparenleft}x\isactrlsub {\isadigit{2}}{\isacharcomma}\ y\isactrlsub {\isadigit{2}}{\isacharparenright}{\isacharcomma}\ l{\isacharplus}j{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \isakeyword{if}\ {\isachardoublequoteopen}delta{\isacharprime}\ x\isactrlsub {\isadigit{1}}\ y\isactrlsub {\isadigit{1}}\ x\isactrlsub {\isadigit{2}}\ y\isactrlsub {\isadigit{2}}\ {\isasymnoteq}\ {\isadigit{0}}\ {\isasymand}\ {\isacharparenleft}x\isactrlsub {\isadigit{1}}{\isacharcomma}\ y\isactrlsub {\isadigit{1}}{\isacharparenright}\ {\isasymin}\ e{\isacharprime}{\isacharunderscore}aff\ {\isasymand}\ {\isacharparenleft}x\isactrlsub {\isadigit{2}}{\isacharcomma}\ y\isactrlsub {\isadigit{2}}{\isacharparenright}\ {\isasymin}\ e{\isacharprime}{\isacharunderscore}aff{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{sorry}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{termination}\isamarkupfalse%
\ proj{\isacharunderscore}add%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}termination{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ e{\isacharprime}{\isacharunderscore}aff{\isacharunderscore}{\isadigit{0}}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}e{\isacharprime}{\isacharunderscore}aff{\isacharunderscore}{\isadigit{0}}\ {\isacharequal}\ {\isacharbraceleft}{\isacharparenleft}{\isacharparenleft}x\isactrlsub {\isadigit{1}}{\isacharcomma}y\isactrlsub {\isadigit{1}}{\isacharparenright}{\isacharcomma}{\isacharparenleft}x\isactrlsub {\isadigit{2}}{\isacharcomma}y\isactrlsub {\isadigit{2}}{\isacharparenright}{\isacharparenright}{\isachardot}\ {\isacharparenleft}x\isactrlsub {\isadigit{1}}{\isacharcomma}y\isactrlsub {\isadigit{1}}{\isacharparenright}\ {\isasymin}\ e{\isacharprime}{\isacharunderscore}aff\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}x\isactrlsub {\isadigit{2}}{\isacharcomma}y\isactrlsub {\isadigit{2}}{\isacharparenright}\ {\isasymin}\ e{\isacharprime}{\isacharunderscore}aff\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ delta\ x\isactrlsub {\isadigit{1}}\ y\isactrlsub {\isadigit{1}}\ x\isactrlsub {\isadigit{2}}\ y\isactrlsub {\isadigit{2}}\ {\isasymnoteq}\ {\isadigit{0}}\ {\isacharbraceright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ e{\isacharprime}{\isacharunderscore}aff{\isacharunderscore}{\isadigit{1}}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}e{\isacharprime}{\isacharunderscore}aff{\isacharunderscore}{\isadigit{1}}\ {\isacharequal}\ {\isacharbraceleft}{\isacharparenleft}{\isacharparenleft}x\isactrlsub {\isadigit{1}}{\isacharcomma}y\isactrlsub {\isadigit{1}}{\isacharparenright}{\isacharcomma}{\isacharparenleft}x\isactrlsub {\isadigit{2}}{\isacharcomma}y\isactrlsub {\isadigit{2}}{\isacharparenright}{\isacharparenright}{\isachardot}\ {\isacharparenleft}x\isactrlsub {\isadigit{1}}{\isacharcomma}y\isactrlsub {\isadigit{1}}{\isacharparenright}\ {\isasymin}\ e{\isacharprime}{\isacharunderscore}aff\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}x\isactrlsub {\isadigit{2}}{\isacharcomma}y\isactrlsub {\isadigit{2}}{\isacharparenright}\ {\isasymin}\ e{\isacharprime}{\isacharunderscore}aff\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ delta{\isacharprime}\ x\isactrlsub {\isadigit{1}}\ y\isactrlsub {\isadigit{1}}\ x\isactrlsub {\isadigit{2}}\ y\isactrlsub {\isadigit{2}}\ {\isasymnoteq}\ {\isadigit{0}}\ {\isacharbraceright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ e{\isacharprime}{\isacharunderscore}aff{\isacharunderscore}bit\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}{\isacharparenleft}{\isacharprime}a\ {\isasymtimes}\ {\isacharprime}a{\isacharparenright}\ {\isasymtimes}\ bit{\isacharparenright}\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ {\isachardoublequoteopen}e{\isacharprime}{\isacharunderscore}aff{\isacharunderscore}bit\ {\isacharequal}\ e{\isacharprime}{\isacharunderscore}aff\ {\isasymtimes}\ UNIV{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ e{\isacharunderscore}proj\ \isakeyword{where}\ {\isachardoublequoteopen}e{\isacharunderscore}proj\ {\isacharequal}\ e{\isacharprime}{\isacharunderscore}aff{\isacharunderscore}bit\ {\isacharslash}{\isacharslash}\ gluing{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{term}\isamarkupfalse%
\ {\isachardoublequoteopen}proj{\isacharunderscore}add\ {\isacharbackquote}\ {\isacharbraceleft}{\isacharparenleft}{\isacharparenleft}{\isacharparenleft}x\isactrlsub {\isadigit{1}}{\isacharcomma}\ y\isactrlsub {\isadigit{1}}{\isacharparenright}{\isacharcomma}\ i{\isacharparenright}{\isacharcomma}{\isacharparenleft}{\isacharparenleft}x\isactrlsub {\isadigit{2}}{\isacharcomma}\ y\isactrlsub {\isadigit{2}}{\isacharparenright}{\isacharcomma}\ j{\isacharparenright}{\isacharparenright}{\isachardot}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isacharparenleft}{\isacharparenleft}x\isactrlsub {\isadigit{1}}{\isacharcomma}\ y\isactrlsub {\isadigit{1}}{\isacharparenright}{\isacharcomma}\ i{\isacharparenright}{\isacharcomma}{\isacharparenleft}{\isacharparenleft}x\isactrlsub {\isadigit{2}}{\isacharcomma}\ y\isactrlsub {\isadigit{2}}{\isacharparenright}{\isacharcomma}\ j{\isacharparenright}{\isacharparenright}\ {\isasymin}\ c\isactrlsub {\isadigit{1}}\ {\isasymtimes}\ c\isactrlsub {\isadigit{2}}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isacharparenleft}x\isactrlsub {\isadigit{1}}{\isacharcomma}\ y\isactrlsub {\isadigit{1}}{\isacharparenright}{\isacharcomma}\ {\isacharparenleft}x\isactrlsub {\isadigit{2}}{\isacharcomma}\ y\isactrlsub {\isadigit{2}}{\isacharparenright}{\isacharparenright}\ {\isasymin}\ e{\isacharprime}{\isacharunderscore}aff{\isacharunderscore}{\isadigit{0}}\ {\isasymunion}\ e{\isacharprime}{\isacharunderscore}aff{\isacharunderscore}{\isadigit{1}}{\isacharbraceright}\ {\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isanewline
\isacommand{term}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\isacharparenleft}{\isacharparenleft}{\isacharparenleft}x\isactrlsub {\isadigit{1}}{\isacharcomma}\ y\isactrlsub {\isadigit{1}}{\isacharparenright}{\isacharcomma}\ i{\isacharparenright}{\isacharcomma}{\isacharparenleft}{\isacharparenleft}x\isactrlsub {\isadigit{2}}{\isacharcomma}\ y\isactrlsub {\isadigit{2}}{\isacharparenright}{\isacharcomma}\ j{\isacharparenright}{\isacharparenright}{\isachardot}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isacharparenleft}{\isacharparenleft}x\isactrlsub {\isadigit{1}}{\isacharcomma}\ y\isactrlsub {\isadigit{1}}{\isacharparenright}{\isacharcomma}\ i{\isacharparenright}{\isacharcomma}{\isacharparenleft}{\isacharparenleft}x\isactrlsub {\isadigit{2}}{\isacharcomma}\ y\isactrlsub {\isadigit{2}}{\isacharparenright}{\isacharcomma}\ j{\isacharparenright}{\isacharparenright}\ {\isasymin}\ c\isactrlsub {\isadigit{1}}\ {\isasymtimes}\ c\isactrlsub {\isadigit{2}}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isacharparenleft}x\isactrlsub {\isadigit{1}}{\isacharcomma}\ y\isactrlsub {\isadigit{1}}{\isacharparenright}{\isacharcomma}\ {\isacharparenleft}x\isactrlsub {\isadigit{2}}{\isacharcomma}\ y\isactrlsub {\isadigit{2}}{\isacharparenright}{\isacharparenright}\ {\isasymin}\ e{\isacharprime}{\isacharunderscore}aff{\isacharunderscore}{\isadigit{0}}\ {\isasymunion}\ e{\isacharprime}{\isacharunderscore}aff{\isacharunderscore}{\isadigit{1}}{\isacharbraceright}\ {\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{type{\isacharunderscore}synonym}\isamarkupfalse%
\ {\isacharparenleft}{\isacharprime}b{\isacharparenright}\ pclass\ {\isacharequal}\ {\isacartoucheopen}{\isacharparenleft}{\isacharprime}b{\isacharparenright}\ ppoint\ set{\isacartoucheclose}\isanewline
\isanewline
\isacommand{function}\isamarkupfalse%
\ proj{\isacharunderscore}add{\isacharunderscore}class\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}{\isacharprime}a{\isacharparenright}\ pclass\ {\isasymRightarrow}\ {\isacharparenleft}{\isacharprime}a{\isacharparenright}\ pclass\ {\isasymRightarrow}\ {\isacharparenleft}{\isacharprime}a{\isacharparenright}\ pclass\ set{\isachardoublequoteclose}\isanewline
\isakeyword{where}\ \isanewline
\ \ {\isachardoublequoteopen}proj{\isacharunderscore}add{\isacharunderscore}class\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}\ {\isacharequal}\ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}proj{\isacharunderscore}add\ {\isacharbackquote}\ {\isacharbraceleft}{\isacharparenleft}{\isacharparenleft}{\isacharparenleft}x\isactrlsub {\isadigit{1}}{\isacharcomma}\ y\isactrlsub {\isadigit{1}}{\isacharparenright}{\isacharcomma}\ i{\isacharparenright}{\isacharcomma}{\isacharparenleft}{\isacharparenleft}x\isactrlsub {\isadigit{2}}{\isacharcomma}\ y\isactrlsub {\isadigit{2}}{\isacharparenright}{\isacharcomma}\ j{\isacharparenright}{\isacharparenright}{\isachardot}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isacharparenleft}{\isacharparenleft}x\isactrlsub {\isadigit{1}}{\isacharcomma}\ y\isactrlsub {\isadigit{1}}{\isacharparenright}{\isacharcomma}\ i{\isacharparenright}{\isacharcomma}{\isacharparenleft}{\isacharparenleft}x\isactrlsub {\isadigit{2}}{\isacharcomma}\ y\isactrlsub {\isadigit{2}}{\isacharparenright}{\isacharcomma}\ j{\isacharparenright}{\isacharparenright}\ {\isasymin}\ c\isactrlsub {\isadigit{1}}\ {\isasymtimes}\ c\isactrlsub {\isadigit{2}}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isacharparenleft}x\isactrlsub {\isadigit{1}}{\isacharcomma}\ y\isactrlsub {\isadigit{1}}{\isacharparenright}{\isacharcomma}\ {\isacharparenleft}x\isactrlsub {\isadigit{2}}{\isacharcomma}\ y\isactrlsub {\isadigit{2}}{\isacharparenright}{\isacharparenright}\ {\isasymin}\ e{\isacharprime}{\isacharunderscore}aff{\isacharunderscore}{\isadigit{0}}\ {\isasymunion}\ e{\isacharprime}{\isacharunderscore}aff{\isacharunderscore}{\isadigit{1}}{\isacharbraceright}{\isacharparenright}\ {\isacharslash}{\isacharslash}\ gluing\isanewline
\ \ \ \ \ \ {\isachardoublequoteclose}\ \isanewline
\ \isakeyword{if}\ {\isachardoublequoteopen}c\isactrlsub {\isadigit{1}}\ {\isasymin}\ e{\isacharunderscore}proj{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}c\isactrlsub {\isadigit{2}}\ {\isasymin}\ e{\isacharunderscore}proj{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{sorry}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{termination}\isamarkupfalse%
\ proj{\isacharunderscore}add{\isacharunderscore}class%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}termination{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ proj{\isacharunderscore}addition\ \isakeyword{where}\ \isanewline
\ \ {\isachardoublequoteopen}proj{\isacharunderscore}addition\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}\ {\isacharequal}\ the{\isacharunderscore}elem\ {\isacharparenleft}proj{\isacharunderscore}add{\isacharunderscore}class\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/Isabelle/curves_safe/Hales.thy%:%
%:%10=1%:%
%:%11=1%:%
%:%12=2%:%
%:%13=3%:%
%:%18=3%:%
%:%21=4%:%
%:%22=5%:%
%:%23=5%:%
%:%30=8%:%
%:%40=10%:%
%:%41=10%:%
%:%42=11%:%
%:%43=12%:%
%:%44=13%:%
%:%45=13%:%
%:%46=14%:%
%:%47=15%:%
%:%48=16%:%
%:%49=17%:%
%:%50=17%:%
%:%51=18%:%
%:%53=20%:%
%:%54=21%:%
%:%55=22%:%
%:%56=22%:%
%:%57=23%:%
%:%58=24%:%
%:%59=25%:%
%:%60=25%:%
%:%61=26%:%
%:%62=27%:%
%:%63=28%:%
%:%64=28%:%
%:%65=29%:%
%:%66=30%:%
%:%67=31%:%
%:%68=32%:%
%:%69=32%:%
%:%70=33%:%
%:%71=34%:%
%:%72=35%:%
%:%73=35%:%
%:%74=36%:%
%:%75=37%:%
%:%76=38%:%
%:%77=39%:%
%:%78=40%:%
%:%79=41%:%
%:%80=42%:%
%:%81=43%:%
%:%88=44%:%
%:%89=44%:%
%:%90=45%:%
%:%91=45%:%
%:%92=46%:%
%:%93=46%:%
%:%94=47%:%
%:%95=47%:%
%:%96=48%:%
%:%97=48%:%
%:%99=50%:%
%:%100=51%:%
%:%101=51%:%
%:%103=53%:%
%:%104=54%:%
%:%105=54%:%
%:%106=55%:%
%:%107=55%:%
%:%108=56%:%
%:%109=56%:%
%:%110=57%:%
%:%111=57%:%
%:%112=58%:%
%:%113=59%:%
%:%114=59%:%
%:%115=60%:%
%:%116=60%:%
%:%117=60%:%
%:%118=61%:%
%:%119=61%:%
%:%120=62%:%
%:%121=62%:%
%:%122=62%:%
%:%123=63%:%
%:%124=63%:%
%:%125=64%:%
%:%126=64%:%
%:%127=64%:%
%:%128=65%:%
%:%129=65%:%
%:%130=66%:%
%:%131=66%:%
%:%132=66%:%
%:%133=67%:%
%:%134=68%:%
%:%135=68%:%
%:%136=69%:%
%:%137=69%:%
%:%138=69%:%
%:%139=70%:%
%:%140=71%:%
%:%141=71%:%
%:%148=78%:%
%:%149=79%:%
%:%150=79%:%
%:%151=80%:%
%:%152=80%:%
%:%153=81%:%
%:%154=81%:%
%:%155=82%:%
%:%156=82%:%
%:%157=83%:%
%:%158=83%:%
%:%159=84%:%
%:%160=85%:%
%:%161=85%:%
%:%162=86%:%
%:%167=91%:%
%:%168=92%:%
%:%169=92%:%
%:%170=93%:%
%:%171=93%:%
%:%172=94%:%
%:%173=94%:%
%:%174=95%:%
%:%175=95%:%
%:%176=96%:%
%:%177=96%:%
%:%178=97%:%
%:%179=98%:%
%:%180=98%:%
%:%181=99%:%
%:%182=99%:%
%:%183=100%:%
%:%184=100%:%
%:%185=101%:%
%:%186=101%:%
%:%187=102%:%
%:%188=102%:%
%:%189=103%:%
%:%190=103%:%
%:%191=104%:%
%:%192=104%:%
%:%193=105%:%
%:%194=105%:%
%:%195=106%:%
%:%196=107%:%
%:%197=107%:%
%:%198=108%:%
%:%199=109%:%
%:%200=109%:%
%:%201=109%:%
%:%202=110%:%
%:%203=110%:%
%:%204=111%:%
%:%205=112%:%
%:%211=112%:%
%:%214=113%:%
%:%215=114%:%
%:%223=118%:%
%:%233=120%:%
%:%234=120%:%
%:%235=121%:%
%:%236=122%:%
%:%237=123%:%
%:%238=124%:%
%:%239=125%:%
%:%240=126%:%
%:%241=127%:%
%:%242=127%:%
%:%243=128%:%
%:%245=130%:%
%:%246=131%:%
%:%247=132%:%
%:%248=132%:%
%:%249=133%:%
%:%250=134%:%
%:%251=134%:%
%:%252=135%:%
%:%253=136%:%
%:%254=137%:%
%:%255=138%:%
%:%256=139%:%
%:%257=140%:%
%:%258=140%:%
%:%259=141%:%
%:%260=142%:%
%:%261=142%:%
%:%262=143%:%
%:%263=144%:%
%:%264=144%:%
%:%265=145%:%
%:%266=146%:%
%:%267=147%:%
%:%268=147%:%
%:%269=148%:%
%:%270=149%:%
%:%271=149%:%
%:%272=150%:%
%:%273=151%:%
%:%274=151%:%
%:%275=152%:%
%:%278=155%:%
%:%279=156%:%
%:%280=157%:%
%:%281=158%:%
%:%282=158%:%
%:%283=159%:%
%:%284=160%:%
%:%285=161%:%
%:%288=162%:%
%:%292=162%:%
%:%298=162%:%
%:%301=163%:%
%:%302=164%:%
%:%303=164%:%
%:%304=165%:%
%:%305=166%:%
%:%306=166%:%
%:%307=167%:%
%:%308=168%:%
%:%309=169%:%
%:%310=170%:%
%:%313=171%:%
%:%317=171%:%
%:%323=171%:%
%:%326=172%:%
%:%327=173%:%
%:%328=173%:%
%:%330=173%:%
%:%334=173%:%
%:%335=173%:%
%:%336=173%:%
%:%343=173%:%
%:%344=174%:%
%:%345=175%:%
%:%346=175%:%
%:%347=176%:%
%:%349=178%:%
%:%350=179%:%
%:%351=180%:%
%:%352=180%:%
%:%353=181%:%
%:%355=183%:%
%:%356=184%:%
%:%357=185%:%
%:%358=185%:%
%:%359=186%:%
%:%360=187%:%
%:%361=188%:%
%:%362=189%:%
%:%363=189%:%
%:%364=190%:%
%:%365=191%:%
%:%366=192%:%
%:%367=192%:%
%:%369=194%:%
%:%370=195%:%
%:%371=196%:%
%:%372=197%:%
%:%373=198%:%
%:%374=198%:%
%:%376=200%:%
%:%377=201%:%
%:%378=202%:%
%:%379=202%:%
%:%380=203%:%
%:%381=204%:%
%:%382=204%:%
%:%383=205%:%
%:%384=206%:%
%:%388=210%:%
%:%389=211%:%
%:%392=212%:%
%:%396=212%:%
%:%402=212%:%
%:%405=213%:%
%:%406=214%:%
%:%407=214%:%
%:%409=214%:%
%:%413=214%:%
%:%414=214%:%
%:%415=214%:%
%:%422=214%:%
%:%423=215%:%
%:%424=216%:%
%:%425=216%:%
%:%426=217%:%
%:%427=218%:%
%:%428=219%:%
%:%429=220%:%
%:%430=221%:%
%:%431=222%:%
%:%432=223%:%
%:%433=223%:%
%:%436=224%:%
%:%441=225%:%